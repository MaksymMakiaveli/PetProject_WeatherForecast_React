(this.webpackJsonpreact_weather=this.webpackJsonpreact_weather||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),o=(n(74),n(119)),s=n(120),l=n(121),d=n(122),u=n(123),j=n(54),m=n.n(j),f=n(2),b=function(){return Object(f.jsxs)("div",{className:m.a.loader,children:[Object(f.jsx)("div",{style:{"--i":1}}),Object(f.jsx)("div",{style:{"--i":2}}),Object(f.jsx)("div",{style:{"--i":3}}),Object(f.jsx)("div",{style:{"--i":4}})]})},p=n(15),h=n(63),g=n(5),O=n.n(g),x=n(12),v=n(55),y="&appid=ce335fa02e62e132e4e1fc701c37eb7a",_="&units=metric&lang=ru",w=v.create({baseURL:"".concat("https://api.openweathermap.org/data/2.5/")}),N=function(e,t){if(e&&t)return w.get("weather?lat=".concat(e,"&lon=").concat(t).concat(_).concat(y))},C=function(e){return w.get("weather?q=".concat(e).concat(_).concat(y))},T=function(e,t){if(e&&t)return w.get("onecall?lat=".concat(e,"&lon=").concat(t).concat(_).concat("&exclude=current,minutely,alerts").concat(y))},S="SET_DATA",E="SET_ERROR",F="SET_FORECAST_WEATHER",I={data:null,forecastWeather:"",error:null},k=function(e){return{type:S,payload:e}},A=function(e){return{type:E,payload:e}},D=function(e){return{type:F,payload:e}},z=n(17),P=n(41),W=n.n(P),H=n(56),R=n.n(H),L=function(){var e=Object(h.a)(),t=e.register,n=e.handleSubmit,r=Object(z.b)();return Object(f.jsxs)("form",{className:W.a.form_search,noValidate:!0,onSubmit:n((function(e){var t=e.city.replaceAll(" ","").toLowerCase();r(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var r,a,c,i,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e);case 3:return r=t.sent,a=r.data.coord,c=a.lon,i=a.lat,console.log("lon"+c,"lat"+i),t.next=8,T(i,c);case 8:o=t.sent,n(k(r.data)),n(D(o.data)),n(A(null)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n(A(t.t0.response.data));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))})),children:[Object(f.jsx)("input",Object(p.a)({className:W.a.input_search,type:"search",placeholder:"Search..."},t("city"))),Object(f.jsx)("button",{type:"submit",className:R()(W.a.button_search,"fa","fa-search")})]})},M=n(11),G=n(24),B=n.n(G),V=Object(o.a)((function(e){return{root:{display:"flex",alignItems:"center",flexDirection:"column"},data:{fontSize:"1.5em",marginTop:e.spacing(3)},time:{fontSize:"4em",marginTop:e.spacing(1)}}})),J=function(){var e=V(),t=Object(r.useState)(),n=Object(M.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(),o=Object(M.a)(i,2),s=o[0],l=o[1];return Object(r.useEffect)((function(){var e=setInterval((function(){return c(B()().format("HH:mm:ss"))}),1e3),t=setInterval((function(){return l(B()().format("MMM Do"))}),1e3);return function(){clearInterval(e,t)}}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:e.root,children:[Object(f.jsx)("span",{className:e.data,children:s}),Object(f.jsx)("span",{className:e.time,children:a})]})})},U=Object(o.a)((function(e){return{root:{width:"100%",color:"rgba(255, 255, 255, 0.45)",background:" #0093E9",backgroundImage:"linear-gradient(66deg, #0093E9 1%, #80D0C7 88%)",marginTop:e.spacing(4),padding:e.spacing(2,1),gridArea:"card",gridColumn:"1/2"},cardContent:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},infoTitle:{fontWeight:300,color:"#fff"},image:{height:"8rem",width:"7rem"},celsius:{color:"#fff",textAlign:"center"},error:{marginTop:e.spacing(1),color:"#ad393991"},gridContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:"'card  form'\n                        'card  clock'",alignItems:"center",justifyItems:"center",gridColumnGap:"5rem"},gridTemplateForm:{gridArea:"form"},gridTemplateClock:{gridArea:"clock"}}})),X=function(e){var t=e.data,n=U();if(!t)return Object(f.jsx)(b,{});var r=t.main.temp.toFixed(0);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:n.gridContainer,children:[Object(f.jsx)(s.a,{className:n.root,children:Object(f.jsxs)(l.a,{className:n.cardContent,children:[Object(f.jsxs)(d.a,{component:"h2",variant:"h6",className:n.infoTitle,children:[t.sys.country," ",t.name]}),Object(f.jsx)(u.a,{className:n.image,image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")}),Object(f.jsx)(d.a,{component:"h2",variant:"h6",children:t.weather[0].description}),Object(f.jsxs)(d.a,{className:n.celsius,component:"p",children:[r,"\xb0 \u0421"]})]})}),Object(f.jsx)("div",{className:n.gridTemplateForm,children:Object(f.jsx)(L,{})}),Object(f.jsx)("div",{className:n.gridTemplateClock,children:Object(f.jsx)(J,{})})]})})},q=n(61),K=n.n(q),Q=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},text:{color:"rgba(4, 30, 45, 0.8)"},icon:{fontSize:"4em",color:"rgba(0, 138, 255, 0.7)"}}})),Y=function(e){var t=e.data,n=Q();return Object(f.jsxs)("div",{className:n.root,children:[Object(f.jsx)(K.a,{className:n.icon,color:"primary"}),Object(f.jsx)(d.a,{className:n.text,component:"h1",variant:"h4",children:"Weather Project"}),Object(f.jsx)(X,{data:t})]})},Z=n(125),$=Object(o.a)((function(e){return{box:{display:"flex",minHeight:"100%",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},image:{height:"8rem",width:"8rem",position:"relative",top:"1.3rem"},description:{margin:"auto",lineHeight:"1.5rem"},time:{color:"#0009",fontWeight:"bold",fontSize:"1.1rem"},celsius:{color:"#fff",textAlign:"center",fontSize:"1.3rem"},iconCelsius:{fontSize:"1.5rem"}}})),ee=function(e){var t=e.icon,n=e.description,r=e.celsius,a=e.date,c=$();return Object(f.jsxs)(Z.a,{className:c.box,children:[Object(f.jsx)("img",{className:c.image,src:"http://openweathermap.org/img/wn/".concat(t,"@2x.png"),alt:"icon"}),Object(f.jsx)(d.a,{component:"h2",variant:"h6",className:c.description,children:n}),Object(f.jsx)(d.a,{className:c.time,component:"p",children:a}),Object(f.jsxs)(d.a,{className:c.celsius,component:"p",children:[r,Object(f.jsx)("span",{className:c.iconCelsius,children:"\xb0"})]})]})},te=n(40),ne=["children"],re=Object(o.a)((function(e){return{root:{color:"rgba(255, 255, 255, 0.45)",background:" #0093E9",backgroundImage:"linear-gradient(66deg, #0093E9 1%, #80D0C7 88%)",marginTop:e.spacing(4),width:"100%"},cardContent:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridColumnGap:"2rem",position:"relative",top:"-0.5rem"}}})),ae=function(e){var t=e.children,n=(Object(te.a)(e,ne),re());return Object(f.jsx)(s.a,{className:n.root,children:Object(f.jsx)(l.a,{className:n.cardContent,children:t})})},ce=function(e){var t=e.hourly;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ae,{children:t.slice(1,6).map((function(e){return Object(f.jsx)(ee,{description:e.weather[0].description,icon:e.weather[0].icon,celsius:e.temp.toFixed(0),date:B.a.unix(e.dt).format("HH:mm")},e.dt)}))})})},ie=function(e){var t=e.daily;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ae,{children:t.slice(1,6).map((function(e){return Object(f.jsx)(ee,{description:e.weather[0].description,icon:e.weather[0].icon,celsius:e.temp.day.toFixed(0),date:B.a.unix(e.dt).format("dddd")},e.dt)}))})})},oe=n(126),se=Object(o.a)((function(e){return{alert:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"0rem",fontSize:"1.2rem"}}})),le=function(){var e=se(),t=Object(z.b)(),n=function(){var e=Object(r.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),t=Object(M.a)(e,2),n=t[0],a=t[1],c=function(e){a({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},i=function(e){a({loaded:!0,error:e})};return Object(r.useEffect)((function(){"geolocation"in navigator||i({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(c,i)}),[]),n}(),a=Object(z.c)((function(e){return e.weather.data})),c=Object(z.c)((function(e){return e.weather.error})),i=Object(z.c)((function(e){return e.weather.forecastWeather})),o=i.daily,s=i.hourly,l=n.coordinates,d=l.lat,u=l.lng;return Object(r.useEffect)((function(){t(function(e,t){return function(){var n=Object(x.a)(O.a.mark((function n(r){var a,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N(e,t);case 3:return a=n.sent,n.next=6,T(e,t);case 6:c=n.sent,a&&r(k(a.data)),r(D(c.data)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(d,u))}),[t,d,u]),a&&i?Object(f.jsxs)(f.Fragment,{children:[null!==c?Object(f.jsx)(oe.a,{severity:"error",className:e.alert,children:c.message}):"",Object(f.jsx)(Y,{data:a}),Object(f.jsx)(ce,{hourly:s}),Object(f.jsx)(ie,{daily:o})]}):Object(f.jsx)(b,{})},de=n(124),ue=["children"],je=Object(o.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",textAlign:"center",padding:"2.5rem 0 2rem 0"}}})),me=function(e){var t=e.children,n=Object(te.a)(e,ue),r=je();return Object(f.jsx)(de.a,Object(p.a)(Object(p.a)({maxWidth:"md",className:r.root},n),{},{children:t}))};var fe=function(){return Object(f.jsx)(me,{children:Object(f.jsx)(le,{})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},pe=n(30),he=n(62),ge=Object(pe.b)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(p.a)(Object(p.a)({},e),{},{data:t.payload});case E:return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});case F:return Object(p.a)(Object(p.a)({},e),{},{forecastWeather:t.payload});default:return e}}}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pe.c,xe=Object(pe.d)(ge,Oe(Object(pe.a)(he.a)));i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(z.a,{store:xe,children:Object(f.jsx)(fe,{})})}),document.getElementById("root")),be()},41:function(e,t,n){e.exports={form_search:"Form_form_search__2rIpk",input_search:"Form_input_search__2LOzz",button_search:"Form_button_search__24icB"}},54:function(e,t,n){e.exports={loader:"Preloader_loader__3xEzi",anim2:"Preloader_anim2__13bdz",anim:"Preloader_anim__3GVdf"}},74:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.6a6b1ac4.chunk.js.map